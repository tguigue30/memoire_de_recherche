\begin{tikzpicture}[x=2.2cm, y=1.2cm, >=latex]

% Styles
\tikzstyle{neuron} = [circle, draw=black, thick, minimum size=25pt, inner sep=0pt]
\tikzstyle{input neuron} = [neuron, green!20!black,draw=mygreen!30!black,fill=mygreen!25]
\tikzstyle{hidden neuron 1} = [neuron, blue!20!black,draw=myblue!30!black,fill=myblue!20]
\tikzstyle{hidden neuron 2} = [neuron, blue!20!black,draw=myblue!30!black,fill=myblue!20]
\tikzstyle{output neuron} = [neuron, orange!20!black,draw=myorange!30!black,fill=myorange!20]
\tikzstyle{connect} = [draw=myblue!30]
\tikzstyle{annot} = [text width=4em, text centered]

% Nombre de neurones
\def\nI{5}
\def\nH{6}
\def\nO{2}

% Encadrement zones
\filldraw[fill=green!10, draw=green!40!black, thick, rounded corners, opacity=0.3]
  (-0.3, 0.5) rectangle (0.3, \nI + 0.5);
\node at (0, -0.6) {\sffamily \textbf{Couche d'entrée}};

\filldraw[fill=blue!10, draw=blue!60, thick, rounded corners, opacity=0.3]
  (1.2, -0.2) rectangle (3.3, \nH + 0.2);
\node at (2.2, -0.6) {\sffamily \textbf{Couches cachées}};

\filldraw[fill=orange!10, draw=orange!60, thick, rounded corners, opacity=0.3]
  (4.2, 1.5) rectangle (4.8, 5.5);
\node at (4.5, -0.6) {\sffamily \textbf{Couche de sortie}};

% Couche d'entrée
\foreach \i in {1,...,\nI}
  \node[input neuron] (I-\i) at (0, \i) {$a_{\i}^{(0)}$};

% Première couche cachée
\foreach \i in {1,...,\nH}
  \node[hidden neuron 1] (H1-\i) at (1.5, \i - 0.5) {$a_{\i}^{(1)}$};

% Deuxième couche cachée
\foreach \i in {1,...,\nH}
  \node[hidden neuron 2] (H2-\i) at (3, \i - 0.5) {$a_{\i}^{(2)}$};

% Couche de sortie (2 neurones)
\node[output neuron] (O-1) at (4.5, 5) {$\hat{y}_1$};
\node[output neuron] (O-2) at (4.5, 2) {$\hat{y}_2$};

% Connexions I -> H1
\foreach \i in {1,...,\nI}
  \foreach \j in {1,...,\nH}
    \draw[connect, thin] (I-\i) -- (H1-\j);

% Connexions H1 -> H2
\foreach \i in {1,...,\nH}
  \foreach \j in {1,...,\nH}
    \draw[connect, thin] (H1-\i) -- (H2-\j);

% Connexions H2 -> O
\foreach \i in {1,...,\nH}
  \foreach \j in {1,2}
    \draw[connect, thin] (H2-\i) -- (O-\j);

% Annotations couches
\node[align=center] at (0,6.6) {$\mathbf{x}$};
\node[align=center] at (1.5,6.6) {$\mathbf{a}^{(1)}$};
\node[align=center] at (3,6.6) {$\mathbf{a}^{(2)}$};
\node[align=center] at (4.5,6.6) {$\hat{\mathbf{y}}$};

% Étiquettes des poids
\node at (0.75,2.8) {$\mathbf{\mathcal{W}}^{(0)}$};
\node at (2.25,2.8) {$\mathbf{\mathcal{W}}^{(1)}$};
\node at (3.75,2.8) {$\mathbf{\mathcal{W}}^{(2)}$};

\end{tikzpicture}